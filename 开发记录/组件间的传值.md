# 组件间的传值
> 和Vue.js类似（正好相反，本人先学习的是Vue）， React也支持组件通信（这不是废话么，那个组件化开发框架不支持组建通信），React中的组建通信大致有以下四类：
* 父组件向子组件传值
* 子组件向父组件传值
* 无嵌套关系组件间的传值
* 跨级组建间的传值

## 父组件向子组件传值
> 这部分又可以分为两大类：
* 父组件向其直接子组件传值
* 跨级组件通信

### 父组件向其直接子组件传值
这种通信方式主要是依靠prop进行传值，子组件通过获取`this.props`拿到父组件要传给子组件的值，很简单，看如下代码：

```
    /* 父组件 */
    import childrenEl from "子组件位置"
    class App extends Component {

        render() {
            return (
                <Router>
                    <TopBar title="首页" word="Hello World"/>
                </Router>
            )
        }
    }

    //子组件
    class leftNavi extends Component {
        constructor(props) {
            super(props); //第一步，这是必须的
            console.log(props);
            this.state = { //第二步，赋初始值

            };
        }
    }
```
上面代码通过输出props即可获取父组件传给子组件的变量word以及变量的值：Hello World

### 跨级组件通信
> 所谓跨级组件通信，就是父组件向子组件的子组件通信，向更深层的子组件通信。

跨级组件通信可以采用下面两种方式：   
1.中间组件层层传递props   
2.利用context对象传递

第一种方式使用简单，理解起来也不费劲，父组件要想将某一参数传递给更深层的子组件，只需要将参数传递给直接子组件即可，但是，这样的坏处也是显而易见的，要传递的数据需要一层一层的传递下去，这无疑增加了代码的复杂度，增加了引入Bug的可能性，同时，这些参数又是对该组件无用的参数，一般情况下跨级超过三层就不推荐使用这种方法。

超过三层就有一个新的方式： context， context相当于一个全局变量，我们将要传递的参数放到这个大的全局变量中，那儿用在哪儿取出即可使用，这样一来，不管嵌套有多深，都可以随意取用。
使用 context 也很简单，需要满足两个条件：
* 上级组件要声明自己支持 context，并提供一个函数来返回相应的 context 对象
* 子组件要声明自己需要使用 context
